plugins {
  id 'java'
}

group 'com.github.silaev.mongodb.replicaset.examples'
version '1.0-SNAPSHOT'

repositories {
  mavenCentral()
}

dependencies {
  testImplementation('ch.qos.logback:logback-classic:1.2.3')
  testImplementation(platform("org.junit:junit-bom:5.7.1"))
  testImplementation("org.junit.jupiter:junit-jupiter-api")
  testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine")
  testImplementation("org.assertj:assertj-core:3.19.0")
  testCompile("com.github.silaev:mongodb-replica-set:0.4.3")
  testImplementation("org.mongodb:mongodb-driver-sync:4.2.1")
}

test {
  failFast = true

  testLogging.showStandardStreams = true
  testLogging.exceptionFormat = 'full'

  useJUnitPlatform()
}

compileJava {
  sourceCompatibility = 1.8
  targetCompatibility = 1.8

  options.encoding = 'UTF-8'
  options.compilerArgs << "-Xlint:deprecation"
}

compileTestJava {
  sourceCompatibility = 1.8
  targetCompatibility = 1.8

  options.encoding = 'UTF-8'
  options.compilerArgs << "-Xlint:deprecation"
}